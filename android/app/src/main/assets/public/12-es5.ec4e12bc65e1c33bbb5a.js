!function(){function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{jEZj:function(n,i,o){"use strict";o.r(i),o.d(i,"TabSettingsPageModule",(function(){return I}));var s=o("TEn/"),a=o("ofXK"),c=o("tyNb"),u=o("mrSG"),b=["\u20ac","$","\xa5","\xa3","\u20a4","\u20a1","\u20a6","\u20b9","\u20a9","\u20aa","\u20ab","\u20ad","\u20ae","\u20b1","\u20b2","\u20b4","\u20b5","\u20b8","\u20ba","\u20bc","\u20be","DKK"],l=o("h19s"),h=o("fXoL"),S=o("3Pt+"),T=o("8znc"),f=o("/Xhy"),p=o("sYmb"),d=o("C6fG"),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(u.b)(t,e),t.prototype.getAppName=function(){return Object(d.cordova)(this,"getAppName",{},arguments)},t.prototype.getPackageName=function(){return Object(d.cordova)(this,"getPackageName",{},arguments)},t.prototype.getVersionCode=function(){return Object(d.cordova)(this,"getVersionCode",{},arguments)},t.prototype.getVersionNumber=function(){return Object(d.cordova)(this,"getVersionNumber",{},arguments)},t.pluginName="AppVersion",t.plugin="cordova-plugin-app-version",t.pluginRef="cordova.getAppVersion",t.repo="https://github.com/whiteoctober/cordova-plugin-app-version",t.platforms=["Android","iOS","Windows"],t.\u0275fac=function(e){return r(e||t)},t.\u0275prov=h.Db({token:t,factory:function(e){return t.\u0275fac(e)}});var r=h.Ob(t);return t}(d.IonicNativePlugin);function v(e,t){if(1&e&&(h.Kb(0),h.Mb(1,"ion-select-option",11),h.mc(2),h.Lb(),h.Jb()),2&e){var r=t.$implicit;h.xb(1),h.dc("value",r),h.xb(1),h.nc(r)}}function E(e,t){if(1&e&&(h.Kb(0),h.Mb(1,"ion-select-option",11),h.mc(2),h.Lb(),h.Jb()),2&e){var r=t.$implicit;h.xb(1),h.dc("value",r),h.xb(1),h.nc(r)}}var g,A,R,O=[{path:"",component:(g=function(){function n(e,r,i,o,s,a,c,u){t(this,n),this.alertController=e,this.formBuilder=r,this.storageService=i,this.themeService=o,this.translateService=s,this.platform=a,this.appVersion=c,this.router=u,this.currencyList=b,this.dateFormatList=l.a,this.settingsForm=this.formBuilder.group({forceDarkMode:!1,currency:this.currencyList[0],dateFormat:this.dateFormatList[0],notificationBeforeCancelationPeriodInDays:null})}var i,o,s;return i=n,(o=[{key:"ionViewWillEnter",value:function(){var e=this;this.retrieveSettingsFromStorage().then((function(){e.listenForSettingsFormChanges()}))}},{key:"ionViewWillLeave",value:function(){this.settingsFormChangeSubscription.unsubscribe()}},{key:"showLicense",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={ok:"",header:""},this.translateService.get("GENERAL.OK").subscribe((function(e){t.ok=e})),this.translateService.get("TABS.SETTINGS.LICENSE").subscribe((function(e){t.header=e})),this.showAlertHelper(t.header,"MIT",'Copyright 2020 Christian Fla\xdfkamp\n<br><br>\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n<br><br>\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n<br><br>\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.',t.ok);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"showAbout",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,n,i,o,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="",r="",n="",i="",o="",this.translateService.get("GENERAL.OK").subscribe((function(e){t=e})),this.translateService.get("TABS.SETTINGS.ABOUT").subscribe((function(e){r=e})),this.translateService.get("APP.NAME").subscribe((function(e){r+=" "+e})),this.translateService.get("TABS.SETTINGS.ABOUT_VERSION").subscribe((function(e){i=e})),this.translateService.get("APP.SHORT_DESCRIPTION").subscribe((function(e){o+="<p>"+e+"</p>"})),this.translateService.get("TABS.SETTINGS.ABOUT_AUTHOR").subscribe((function(e){n+="<h4>"+e+"</h4> Christian Fla\xdfkamp"})),this.translateService.get("TABS.SETTINGS.ABOUT_SOURCECODE").subscribe((function(e){n+="<h4>"+e+'</h4> <a href="https://codeberg.org/epinez/Subz">https://codeberg.org/epinez/Subz</a>'})),this.translateService.get("TABS.SETTINGS.ABOUT_REPORT_ISSUES").subscribe((function(e){n+="<h4>"+e+'</h4> <a href="https://codeberg.org/epinez/Subz/issues">https://codeberg.org/epinez/Subz/issues</a>'})),this.translateService.get("TABS.SETTINGS.ABOUT_CONTACT").subscribe((function(e){n+="<h4>"+e+'</h4> <a href="mailto:subz@flasskamp.com">subz@flasskamp.com</a>'})),this.platform.ready().then((function(){s.platform.is("android")?s.appVersion.getVersionNumber().then((function(e){n=o+"<h4>"+i+"</h4> v"+e+n})).then((function(){s.showAlertHelper(r,null,n,t)})):(n=o+n,s.showAlertHelper(r,null,n,t))}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"showAlertHelper",value:function(e,t,r,n){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var o;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.alertController.create({cssClass:"alert-full-width",header:e,subHeader:t,message:r,buttons:[{text:n}]});case 2:return o=i.sent,i.next=5,o.present();case 5:case"end":return i.stop()}}),i,this)})))}},{key:"listenForSettingsFormChanges",value:function(){var e=this;this.settingsFormChangeSubscription=this.settingsForm.valueChanges.subscribe((function(){e.saveSettingsToStorage()}))}},{key:"saveSettingsToStorage",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.settingsForm.valid&&(t=Object.assign(this.retrievedSettings,this.settingsForm.value),this.storageService.saveSettingsToStorage(t).then((function(){r.themeService.applyTheme()})));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"retrieveSettingsFromStorage",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storageService.retrieveSettingsFromStorage();case 2:this.retrievedSettings=t.sent,Object.keys(this.settingsForm.controls).forEach((function(t){r.retrievedSettings.hasOwnProperty(t)&&r.settingsForm.patchValue(e({},t,r.retrievedSettings[t]))}));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"backup",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.platform.ready().then((function(){t.platform.is("android")?t.storageService.backupAllDataAndroid():t.platform.is("mobileweb")&&t.backupWeb()}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"backupWeb",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},this.translateService.get("GENERAL.CANCEL").subscribe((function(e){t.cancel=e})),this.translateService.get("TABS.SETTINGS.BACKUP").subscribe((function(e){t.header=e})),this.translateService.get("TABS.SETTINGS.COPY_TO_CLIPBOARD").subscribe((function(e){t.copyToClipboard=e})),e.t0=this.alertController,e.t1=t.header,e.next=6,this.storageService.getAllData();case 6:return e.t2=e.sent,e.t3=[{text:t.cancel,role:"cancel",cssClass:"secondary"},{text:t.copyToClipboard,cssClass:"secondary",handler:function(){return Object(u.a)(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.storageService.getAllData();case 3:e.t1=e.sent,e.t0.copyTextToClipboard.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})))}}],e.t4={cssClass:"alert-full-width",header:e.t1,message:e.t2,buttons:e.t3},e.next=11,e.t0.create.call(e.t0,e.t4);case 11:return r=e.sent,e.next=14,r.present();case 14:case"end":return e.stop()}}),e,this)})))}},{key:"restore",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.platform.ready().then((function(){t.platform.is("android")?t.restoreAndroid():t.platform.is("mobileweb")&&t.restoreWeb()}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"restoreAndroid",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},this.translateService.get("TABS.SETTINGS.RESTORE").subscribe((function(e){t.header=e})),this.translateService.get("TABS.SETTINGS.RESTORE_BACKUP_ALERT_MESSAGE").subscribe((function(e){t.message=e})),this.translateService.get("GENERAL.CANCEL").subscribe((function(e){t.cancel=e})),this.translateService.get("TABS.SETTINGS.RESTORE_BACKUP_REPLACE").subscribe((function(e){t.restoreBackupReplace=e})),this.translateService.get("TABS.SETTINGS.RESTORE_BACKUP_MERGE").subscribe((function(e){t.restoreBackupMerge=e})),e.next=4,this.alertController.create({cssClass:"alert-full-width",header:t.header,message:t.message,buttons:[{text:t.cancel,role:"cancel",cssClass:"secondary"},{text:t.restoreBackupReplace,handler:function(){n.storageService.restoreAllDataAndroid().then((function(){n.ionViewWillEnter(),n.themeService.applyTheme()}))}},{text:t.restoreBackupMerge,handler:function(){n.storageService.restoreAllDataAndroid(!0).then((function(){n.ionViewWillEnter(),n.themeService.applyTheme()}))}}]});case 4:return r=e.sent,e.next=7,r.present();case 7:case"end":return e.stop()}}),e,this)})))}},{key:"restoreWeb",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},this.translateService.get("TABS.SETTINGS.RESTORE").subscribe((function(e){t.header=e})),this.translateService.get("TABS.SETTINGS.RESTORE_BACKUP_ALERT_MESSAGE").subscribe((function(e){t.message=e})),this.translateService.get("GENERAL.CANCEL").subscribe((function(e){t.cancel=e})),this.translateService.get("TABS.SETTINGS.BACKUP_DATA").subscribe((function(e){t.backupData=e})),this.translateService.get("TABS.SETTINGS.RESTORE_BACKUP_REPLACE").subscribe((function(e){t.restoreBackupReplace=e})),this.translateService.get("TABS.SETTINGS.RESTORE_BACKUP_MERGE").subscribe((function(e){t.restoreBackupMerge=e})),e.next=4,this.alertController.create({cssClass:"alert-full-width",header:t.header,message:t.message,inputs:[{name:"restore",type:"textarea",placeholder:t.backupData}],buttons:[{text:t.cancel,role:"cancel",cssClass:"secondary"},{text:t.restoreBackupReplace,cssClass:"secondary",handler:function(e){return Object(u.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storageService.restoreAllData(e.restore).then((function(){r.ionViewWillEnter(),r.themeService.applyTheme()}));case 2:case"end":return t.stop()}}),t,this)})))}},{text:t.restoreBackupMerge,cssClass:"secondary",handler:function(e){return Object(u.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storageService.restoreAllData(e.restore,!0).then((function(){r.ionViewWillEnter(),r.themeService.applyTheme()}));case 2:case"end":return t.stop()}}),t,this)})))}}]});case 4:return r=e.sent,e.next=7,r.present();case 7:case"end":return e.stop()}}),e,this)})))}},{key:"copyTextToClipboard",value:function(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.left="0",t.style.top="0",t.style.opacity="0",t.value=e,document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},{key:"showHelpTextsInOverview",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.retrievedSettings.hideOverviewHelperTextGeneral=!1,this.retrievedSettings.hideOverviewHelperTextMenuBar=!1,this.storageService.saveSettingsToStorage(this.retrievedSettings),this.router.navigate(["tabs/overview"]);case 1:case"end":return e.stop()}}),e,this)})))}}])&&r(i.prototype,o),s&&r(i,s),n}(),g.\u0275fac=function(e){return new(e||g)(h.Hb(s.a),h.Hb(S.a),h.Hb(T.a),h.Hb(f.a),h.Hb(p.d),h.Hb(s.K),h.Hb(m),h.Hb(c.g))},g.\u0275cmp=h.Bb({type:g,selectors:[["app-tab-settings"]],decls:77,vars:65,consts:[[3,"translucent"],[3,"fullscreen"],[3,"formGroup"],[1,"list-header"],["name","forceDarkMode","formControlName","forceDarkMode","slot","end"],["name","currency","formControlName","currency",3,"cancelText","okText"],[4,"ngFor","ngForOf"],["name","dateFormat","formControlName","dateFormat",3,"cancelText","okText"],["button","",3,"click"],["position","floating"],["type","number","name","notificationBeforeCancelationPeriodInDays","formControlName","notificationBeforeCancelationPeriodInDays"],[3,"value"]],template:function(e,t){1&e&&(h.Mb(0,"ion-header",0),h.Mb(1,"ion-toolbar"),h.Mb(2,"ion-title"),h.mc(3),h.Xb(4,"translate"),h.Lb(),h.Lb(),h.Lb(),h.Mb(5,"ion-content",1),h.Mb(6,"form",2),h.Mb(7,"ion-list"),h.Mb(8,"ion-list-header",3),h.mc(9),h.Xb(10,"translate"),h.Lb(),h.Mb(11,"ion-item"),h.Mb(12,"ion-label"),h.Mb(13,"h2"),h.mc(14),h.Xb(15,"translate"),h.Lb(),h.Mb(16,"ion-note"),h.mc(17),h.Xb(18,"translate"),h.Lb(),h.Lb(),h.Ib(19,"ion-checkbox",4),h.Lb(),h.Mb(20,"ion-item"),h.Mb(21,"ion-label"),h.mc(22),h.Xb(23,"translate"),h.Lb(),h.Mb(24,"ion-select",5),h.Xb(25,"translate"),h.Xb(26,"translate"),h.kc(27,v,3,2,"ng-container",6),h.Lb(),h.Lb(),h.Mb(28,"ion-item"),h.Mb(29,"ion-label"),h.mc(30),h.Xb(31,"translate"),h.Lb(),h.Mb(32,"ion-select",7),h.Xb(33,"translate"),h.Xb(34,"translate"),h.kc(35,E,3,2,"ng-container",6),h.Lb(),h.Lb(),h.Mb(36,"ion-item",8),h.Ub("click",(function(){return t.showHelpTextsInOverview()})),h.Mb(37,"ion-label"),h.Mb(38,"h2"),h.mc(39),h.Xb(40,"translate"),h.Lb(),h.Mb(41,"ion-note"),h.mc(42),h.Xb(43,"translate"),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Mb(44,"ion-list"),h.Mb(45,"ion-list-header",3),h.mc(46),h.Xb(47,"translate"),h.Lb(),h.Mb(48,"ion-item"),h.Mb(49,"ion-label",9),h.mc(50),h.Xb(51,"translate"),h.Lb(),h.Ib(52,"ion-input",10),h.Lb(),h.Lb(),h.Mb(53,"ion-list"),h.Mb(54,"ion-list-header",3),h.mc(55),h.Xb(56,"translate"),h.Lb(),h.Mb(57,"ion-item",8),h.Ub("click",(function(){return t.showLicense()})),h.Mb(58,"ion-label"),h.mc(59),h.Xb(60,"translate"),h.Lb(),h.Lb(),h.Mb(61,"ion-item",8),h.Ub("click",(function(){return t.showAbout()})),h.Mb(62,"ion-label"),h.mc(63),h.Xb(64,"translate"),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Mb(65,"ion-list"),h.Mb(66,"ion-list-header",3),h.mc(67),h.Xb(68,"translate"),h.Lb(),h.Mb(69,"ion-item",8),h.Ub("click",(function(){return t.backup()})),h.Mb(70,"ion-label"),h.mc(71),h.Xb(72,"translate"),h.Lb(),h.Lb(),h.Mb(73,"ion-item",8),h.Ub("click",(function(){return t.restore()})),h.Mb(74,"ion-label"),h.mc(75),h.Xb(76,"translate"),h.Lb(),h.Lb(),h.Lb(),h.Lb()),2&e&&(h.dc("translucent",!0),h.xb(3),h.oc(" ",h.Yb(4,25,"TABS.SETTINGS.SETTINGS")," "),h.xb(2),h.dc("fullscreen",!0),h.xb(1),h.dc("formGroup",t.settingsForm),h.xb(3),h.oc(" ",h.Yb(10,27,"TABS.SETTINGS.UI")," "),h.xb(5),h.nc(h.Yb(15,29,"TABS.SETTINGS.DARK_MODE")),h.xb(3),h.nc(h.Yb(18,31,"TABS.SETTINGS.DARK_MODE_HELPER")),h.xb(5),h.nc(h.Yb(23,33,"TABS.SETTINGS.CURRENCY")),h.xb(2),h.ec("cancelText",h.Yb(25,35,"GENERAL.CANCEL")),h.ec("okText",h.Yb(26,37,"GENERAL.OK")),h.xb(3),h.dc("ngForOf",t.currencyList),h.xb(3),h.nc(h.Yb(31,39,"TABS.SETTINGS.DATE_FORMAT")),h.xb(2),h.ec("cancelText",h.Yb(33,41,"GENERAL.CANCEL")),h.ec("okText",h.Yb(34,43,"GENERAL.OK")),h.xb(3),h.dc("ngForOf",t.dateFormatList),h.xb(4),h.nc(h.Yb(40,45,"TABS.SETTINGS.SHOW_HELP_TEXTS_IN_OVERVIEW")),h.xb(3),h.nc(h.Yb(43,47,"TABS.SETTINGS.SHOW_HELP_TEXTS_IN_OVERVIEW_HELPER")),h.xb(4),h.oc(" ",h.Yb(47,49,"TABS.SETTINGS.TEMPLATES")," "),h.xb(4),h.nc(h.Yb(51,51,"TABS.SETTINGS.NOTIFICATION_BEFORE_CANCELATION_PERIOD_IN_DAYS")),h.xb(5),h.oc(" ",h.Yb(56,53,"TABS.SETTINGS.GENERAL_INFORMATION")," "),h.xb(4),h.nc(h.Yb(60,55,"TABS.SETTINGS.LICENSE")),h.xb(4),h.nc(h.Yb(64,57,"TABS.SETTINGS.ABOUT")),h.xb(4),h.oc(" ",h.Yb(68,59,"TABS.SETTINGS.DATA_MANAGEMENT")," "),h.xb(4),h.nc(h.Yb(72,61,"TABS.SETTINGS.BACKUP")),h.xb(4),h.nc(h.Yb(76,63,"TABS.SETTINGS.RESTORE")))},directives:[s.o,s.F,s.E,s.k,S.l,S.h,S.c,s.t,s.u,s.r,s.s,s.v,s.h,s.b,S.g,S.b,s.z,s.L,a.k,s.q,s.J,s.A],pipes:[p.c],styles:[""]}),g)}],N=((R=function e(){t(this,e)}).\u0275mod=h.Fb({type:R}),R.\u0275inj=h.Eb({factory:function(e){return new(e||R)},imports:[[c.i.forChild(O)],c.i]}),R),I=((A=function e(){t(this,e)}).\u0275mod=h.Fb({type:A}),A.\u0275inj=h.Eb({factory:function(e){return new(e||A)},providers:[m],imports:[[s.G,a.b,N,S.d,S.j,p.b]]}),A)}}])}();