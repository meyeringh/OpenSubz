!function(){function e(e,n){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==i.return||i.return()}finally{if(c)throw o}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{tI9I:function(t,i,a){"use strict";a.r(i),a.d(i,"TabOverviewPageModule",function(){return re});var o=a("TEn/"),s=a("ofXK"),c=a("3Pt+"),l=a("tyNb"),b=a("mrSG"),u=["DAYS","WEEKS","MONTHS","YEARS"],f=["BLUE","GREEN","YELLOW","RED","GREY"],d=a("neFD"),p=a("fXoL"),m=a("8znc"),g=a("sYmb"),v=["nameInput"];function h(e,t){1&e&&(p.Mb(0),p.pc(1),p.Zb(2,"translate"),p.Lb()),2&e&&(p.zb(1),p.qc(p.ac(2,1,"TABS.OVERVIEW.ADD_SUBSCRIPTION")))}function E(e,t){if(1&e&&p.pc(0),2&e){var n=p.Yb();p.qc(n.subscriptionForm.get("name").value)}}function S(e,t){if(1&e&&(p.Mb(0),p.Ob(1,"ion-select-option",34),p.pc(2),p.Zb(3,"translate"),p.Zb(4,"uppercase"),p.Nb(),p.Lb()),2&e){var n=t.$implicit;p.zb(1),p.fc("value",n),p.zb(1),p.qc(p.ac(3,2,p.ac(4,4,"TABS.OVERVIEW.COLORS."+n)))}}function N(e,t){if(1&e&&(p.Mb(0),p.Ob(1,"ion-select-option",34),p.pc(2),p.Zb(3,"translate"),p.Nb(),p.Lb()),2&e){var n=t.$implicit;p.zb(1),p.fc("value",n),p.zb(1),p.qc(p.ac(3,2,"TABS.OVERVIEW.CALENDAR_INTERVALS."+n))}}function O(e,t){if(1&e&&(p.Mb(0),p.Ob(1,"ion-select-option",34),p.pc(2),p.Zb(3,"translate"),p.Nb(),p.Lb()),2&e){var n=t.$implicit;p.zb(1),p.fc("value",n),p.zb(1),p.qc(p.ac(3,2,"TABS.OVERVIEW.CALENDAR_INTERVALS."+n))}}function I(e,t){if(1&e&&(p.Mb(0),p.Ob(1,"ion-select-option",34),p.pc(2),p.Zb(3,"translate"),p.Nb(),p.Lb()),2&e){var n=t.$implicit;p.zb(1),p.fc("value",n),p.zb(1),p.qc(p.ac(3,2,"TABS.OVERVIEW.CALENDAR_INTERVALS."+n))}}function y(e,t){if(1&e&&(p.Mb(0),p.Ob(1,"ion-select-option",34),p.pc(2),p.Zb(3,"translate"),p.Nb(),p.Lb()),2&e){var n=t.$implicit;p.zb(1),p.fc("value",n),p.zb(1),p.qc(p.ac(3,2,"TABS.OVERVIEW.CALENDAR_INTERVALS."+n))}}function T(e,t){if(1&e){var n=p.Pb();p.Ob(0,"ion-button",35),p.Wb("click",function(){return p.jc(n),p.Yb().showDeleteConfirmationModal()}),p.pc(1),p.Zb(2,"translate"),p.Nb()}2&e&&(p.zb(1),p.qc(p.ac(2,1,"TABS.OVERVIEW.REMOVE_SUBSCRIPTION")))}var A,B,R,x=((A=function(){function e(t,i,r,a,o){n(this,e),this.alertController=t,this.modalController=i,this.formBuilder=r,this.storageService=a,this.translateService=o,this.availableBillingIntervals=u,this.colors=f,this.monthNames=[this.translateService.instant("TABS.OVERVIEW.MONTH_NAMES.JANUARY"),this.translateService.instant("TABS.OVERVIEW.MONTH_NAMES.FEBRUARY"),this.translateService.instant("TABS.OVERVIEW.MONTH_NAMES.MARCH"),this.translateService.instant("TABS.OVERVIEW.MONTH_NAMES.APRIL"),this.translateService.instant("TABS.OVERVIEW.MONTH_NAMES.MAI"),this.translateService.instant("TABS.OVERVIEW.MONTH_NAMES.JUNE"),this.translateService.instant("TABS.OVERVIEW.MONTH_NAMES.JULY"),this.translateService.instant("TABS.OVERVIEW.MONTH_NAMES.AUGUST"),this.translateService.instant("TABS.OVERVIEW.MONTH_NAMES.SEPTEMBER"),this.translateService.instant("TABS.OVERVIEW.MONTH_NAMES.OCTOBER"),this.translateService.instant("TABS.OVERVIEW.MONTH_NAMES.NOVEMBER"),this.translateService.instant("TABS.OVERVIEW.MONTH_NAMES.DECEMBER")],this.dateFormatList=d.a,this.currentYear=(new Date).getFullYear(),this.subscriptionForm=this.formBuilder.group({name:["",c.k.required],description:[""],cost:["",c.k.required],color:["BLUE",c.k.required],billingStart:[(new Date).toISOString().slice(0,10),c.k.required],billingEvery:[1,c.k.required],billingInterval:["MONTHS",c.k.required],contractStart:[(new Date).toISOString().slice(0,10),c.k.required],minimumContractDuration:[2,c.k.required],minimumContractDurationInterval:["YEARS",c.k.required],extensionAfterMinimumContractDurationEvery:[6,c.k.required],extensionAfterMinimumContractDurationInterval:["MONTHS",c.k.required],cancelationPeriodEvery:[3],cancelationPeriodInterval:["MONTHS"],notificationBeforeCancelationPeriodInDays:[null]})}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.retrieveSettingsFromStorage().then(function(){e.existingSubscription?e.fillFormWithExistingSubscription():e.fillNotificationBeforeCancelationPeriodInDays()})}},{key:"ionViewDidEnter",value:function(){this.existingSubscription||this.focusNameInput()}},{key:"save",value:function(){if(this.subscriptionForm.valid){var e=this.subscriptionForm.value;this.existingSubscription&&(e.id=this.existingSubscription.id,e.created=this.existingSubscription.created,e.lastEdited=Date.now()),this.modalController.dismiss({sub:e})}else Object.values(this.subscriptionForm.controls).forEach(function(e){e.markAsTouched()})}},{key:"delete",value:function(){this.modalController.dismiss({delete:!0,sub:this.existingSubscription})}},{key:"showDeleteConfirmationModal",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},this.translateService.get("GENERAL.CANCEL").subscribe(function(e){t.cancel=e}),this.translateService.get("GENERAL.OK").subscribe(function(e){t.ok=e}),this.translateService.get("TABS.OVERVIEW.REMOVE_SUBSCRIPTION_ALERT_HEADER").subscribe(function(e){t.header=e}),this.translateService.get("TABS.OVERVIEW.REMOVE_SUBSCRIPTION_ALERT_MESSAGE").subscribe(function(e){t.message=e}),e.next=4,this.alertController.create({cssClass:"alert-full-width",header:t.header,message:t.message,buttons:[{text:t.cancel,role:"cancel",cssClass:"secondary"},{text:t.ok,handler:function(){i.delete()}}]});case 4:return n=e.sent,e.next=7,n.present();case 7:case"end":return e.stop()}},e,this)}))}},{key:"dismiss",value:function(){this.modalController.dismiss()}},{key:"retrieveSettingsFromStorage",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.retrieveSettingsFromStorage();case 2:this.retrievedSettings=e.sent;case 3:case"end":return e.stop()}},e,this)}))}},{key:"fillFormWithExistingSubscription",value:function(){var e=this;Object.keys(this.subscriptionForm.controls).forEach(function(t){e.subscriptionForm.patchValue(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,e.existingSubscription[t]))})}},{key:"fillNotificationBeforeCancelationPeriodInDays",value:function(){this.retrievedSettings&&this.subscriptionForm.patchValue({notificationBeforeCancelationPeriodInDays:this.retrievedSettings.notificationBeforeCancelationPeriodInDays})}},{key:"focusNameInput",value:function(){var e=this;setTimeout(function(){e.nameInput.setFocus()},100)}}]),e}()).\u0275fac=function(e){return new(e||A)(p.Jb(o.a),p.Jb(o.J),p.Jb(c.a),p.Jb(m.a),p.Jb(g.d))},A.\u0275cmp=p.Db({type:A,selectors:[["app-modal-add-subscription"]],viewQuery:function(e,t){var n;1&e&&p.vc(v,1),2&e&&p.hc(n=p.Xb())&&(t.nameInput=n.first)},inputs:{existingSubscription:"existingSubscription"},decls:125,vars:104,consts:[[3,"translucent"],["slot","start"],["color","primary",3,"click"],["slot","icon-only","md","arrow-back"],[4,"ngIf","ngIfElse"],["updateMode",""],["slot","end"],["slot","icon-only","md","save"],[3,"fullscreen"],[3,"formGroup"],[1,"list-header"],["type","text","name","name","formControlName","name",2,"text-align","end"],["nameInput",""],["type","text","name","description","formControlName","description",2,"text-align","end"],["type","number","name","cost","value","3","formControlName","cost",2,"text-align","end"],[3,"color"],["name","color","formControlName","color",3,"cancelText","okText"],[4,"ngFor","ngForOf"],[1,"list-header",2,"margin-top","1rem"],["name","billingStart","formControlName","billingStart",3,"cancelText","doneText","displayFormat","max","monthNames"],[1,"ion-no-padding"],["size","8",1,"ion-no-padding"],["type","number","name","billingEvery","formControlName","billingEvery",2,"text-align","end"],["name","billingInterval","formControlName","billingInterval",1,"select-full-width",3,"cancelText","okText"],["name","contractStart","formControlName","contractStart",3,"cancelText","doneText","displayFormat","max","monthNames"],["type","number","name","minimumContractDuration","formControlName","minimumContractDuration",2,"text-align","end"],["name","minimumContractDurationInterval","formControlName","minimumContractDurationInterval",1,"select-full-width",3,"cancelText","okText"],["type","number","name","extensionAfterMinimumContractDurationEvery","formControlName","extensionAfterMinimumContractDurationEvery",2,"text-align","end"],["name","extensionAfterMinimumContractDurationInterval","formControlName","extensionAfterMinimumContractDurationInterval",1,"select-full-width",3,"cancelText","okText"],["type","number","name","cancelationPeriodEvery","formControlName","cancelationPeriodEvery",2,"text-align","end"],["name","cancelationPeriodInterval","formControlName","cancelationPeriodInterval",1,"select-full-width",3,"cancelText","okText"],["position","floating"],["type","number","name","notificationBeforeCancelationPeriodInDays","formControlName","notificationBeforeCancelationPeriodInDays"],["expand","block","size","large","color","danger","style","padding-left: 8px; padding-right: 8px; font-size: medium;",3,"click",4,"ngIf"],[3,"value"],["expand","block","size","large","color","danger",2,"padding-left","8px","padding-right","8px","font-size","medium",3,"click"]],template:function(e,t){if(1&e&&(p.Ob(0,"ion-header",0),p.Ob(1,"ion-toolbar"),p.Ob(2,"ion-buttons",1),p.Ob(3,"ion-button",2),p.Wb("click",function(){return t.dismiss()}),p.Kb(4,"ion-icon",3),p.Nb(),p.Nb(),p.Ob(5,"ion-title"),p.nc(6,h,3,3,"ng-container",4),p.nc(7,E,1,1,"ng-template",null,5,p.oc),p.Nb(),p.Ob(9,"ion-buttons",6),p.Ob(10,"ion-button",2),p.Wb("click",function(){return t.save()}),p.Kb(11,"ion-icon",7),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Ob(12,"ion-content",8),p.Ob(13,"form",9),p.Ob(14,"ion-list"),p.Ob(15,"ion-list-header",10),p.pc(16),p.Zb(17,"translate"),p.Nb(),p.Ob(18,"ion-item"),p.Ob(19,"ion-label"),p.pc(20),p.Zb(21,"translate"),p.Nb(),p.Kb(22,"ion-input",11,12),p.Nb(),p.Ob(24,"ion-item"),p.Ob(25,"ion-label"),p.pc(26),p.Zb(27,"translate"),p.Nb(),p.Kb(28,"ion-input",13),p.Nb(),p.Ob(29,"ion-item"),p.Ob(30,"ion-label"),p.pc(31),p.Zb(32,"translate"),p.Nb(),p.Kb(33,"ion-input",14),p.Nb(),p.Ob(34,"ion-item",15),p.Zb(35,"lowercase"),p.Ob(36,"ion-label"),p.pc(37),p.Zb(38,"translate"),p.Nb(),p.Ob(39,"ion-select",16),p.Zb(40,"translate"),p.Zb(41,"translate"),p.nc(42,S,5,6,"ng-container",17),p.Nb(),p.Nb(),p.Ob(43,"ion-list-header",18),p.pc(44),p.Zb(45,"translate"),p.Nb(),p.Ob(46,"ion-item"),p.Ob(47,"ion-label"),p.pc(48),p.Zb(49,"translate"),p.Nb(),p.Kb(50,"ion-datetime",19),p.Zb(51,"translate"),p.Zb(52,"translate"),p.Nb(),p.Ob(53,"ion-grid",20),p.Ob(54,"ion-row",20),p.Ob(55,"ion-col",21),p.Ob(56,"ion-item"),p.Ob(57,"ion-label"),p.pc(58),p.Zb(59,"translate"),p.Nb(),p.Kb(60,"ion-input",22),p.Nb(),p.Nb(),p.Ob(61,"ion-col",20),p.Ob(62,"ion-item"),p.Ob(63,"ion-select",23),p.Zb(64,"translate"),p.Zb(65,"translate"),p.nc(66,N,4,4,"ng-container",17),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Ob(67,"ion-list-header",18),p.pc(68),p.Zb(69,"translate"),p.Nb(),p.Ob(70,"ion-item"),p.Ob(71,"ion-label"),p.pc(72),p.Zb(73,"translate"),p.Nb(),p.Kb(74,"ion-datetime",24),p.Zb(75,"translate"),p.Zb(76,"translate"),p.Nb(),p.Ob(77,"ion-grid",20),p.Ob(78,"ion-row",20),p.Ob(79,"ion-col",21),p.Ob(80,"ion-item"),p.Ob(81,"ion-label"),p.pc(82),p.Zb(83,"translate"),p.Nb(),p.Kb(84,"ion-input",25),p.Nb(),p.Nb(),p.Ob(85,"ion-col",20),p.Ob(86,"ion-item"),p.Ob(87,"ion-select",26),p.Zb(88,"translate"),p.Zb(89,"translate"),p.nc(90,O,4,4,"ng-container",17),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Ob(91,"ion-grid",20),p.Ob(92,"ion-row",20),p.Ob(93,"ion-col",21),p.Ob(94,"ion-item"),p.Ob(95,"ion-label"),p.pc(96),p.Zb(97,"translate"),p.Nb(),p.Kb(98,"ion-input",27),p.Nb(),p.Nb(),p.Ob(99,"ion-col",20),p.Ob(100,"ion-item"),p.Ob(101,"ion-select",28),p.Zb(102,"translate"),p.Zb(103,"translate"),p.nc(104,I,4,4,"ng-container",17),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Ob(105,"ion-grid",20),p.Ob(106,"ion-row",20),p.Ob(107,"ion-col",21),p.Ob(108,"ion-item"),p.Ob(109,"ion-label"),p.pc(110),p.Zb(111,"translate"),p.Nb(),p.Kb(112,"ion-input",29),p.Nb(),p.Nb(),p.Ob(113,"ion-col",20),p.Ob(114,"ion-item"),p.Ob(115,"ion-select",30),p.Zb(116,"translate"),p.Zb(117,"translate"),p.nc(118,y,4,4,"ng-container",17),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Ob(119,"ion-item"),p.Ob(120,"ion-label",31),p.pc(121),p.Zb(122,"translate"),p.Nb(),p.Kb(123,"ion-input",32),p.Nb(),p.Nb(),p.Nb(),p.nc(124,T,3,3,"ion-button",33),p.Nb()),2&e){var n=p.ic(8);p.fc("translucent",!0),p.zb(6),p.fc("ngIf",!t.existingSubscription)("ngIfElse",n),p.zb(6),p.fc("fullscreen",!0),p.zb(1),p.fc("formGroup",t.subscriptionForm),p.zb(3),p.rc(" ",p.ac(17,46,"TABS.OVERVIEW.GENERAL_INFORMATION")," "),p.zb(4),p.qc(p.ac(21,48,"TABS.OVERVIEW.NAME")),p.zb(6),p.qc(p.ac(27,50,"TABS.OVERVIEW.DESCRIPTION")),p.zb(5),p.qc(p.ac(32,52,"TABS.OVERVIEW.COSTS")),p.zb(3),p.fc("color",p.ac(35,54,t.subscriptionForm.value.color)),p.zb(3),p.qc(p.ac(38,56,"TABS.OVERVIEW.TILE_COLOR")),p.zb(2),p.gc("cancelText",p.ac(40,58,"GENERAL.CANCEL")),p.gc("okText",p.ac(41,60,"GENERAL.OK")),p.zb(3),p.fc("ngForOf",t.colors),p.zb(2),p.rc(" ",p.ac(45,62,"TABS.OVERVIEW.BILLING")," "),p.zb(4),p.qc(p.ac(49,64,"TABS.OVERVIEW.BILLING_START")),p.zb(2),p.gc("cancelText",p.ac(51,66,"GENERAL.CANCEL")),p.gc("doneText",p.ac(52,68,"GENERAL.DONE")),p.gc("displayFormat",(null==t.retrievedSettings?null:t.retrievedSettings.dateFormat)||t.dateFormatList[0]),p.gc("max",t.currentYear+5),p.gc("monthNames",t.monthNames),p.zb(8),p.qc(p.ac(59,70,"TABS.OVERVIEW.BILLING_EVERY")),p.zb(5),p.gc("cancelText",p.ac(64,72,"GENERAL.CANCEL")),p.gc("okText",p.ac(65,74,"GENERAL.OK")),p.zb(3),p.fc("ngForOf",t.availableBillingIntervals),p.zb(2),p.rc(" ",p.ac(69,76,"TABS.OVERVIEW.CONTRACT")," "),p.zb(4),p.qc(p.ac(73,78,"TABS.OVERVIEW.CONTRACT_START")),p.zb(2),p.gc("cancelText",p.ac(75,80,"GENERAL.CANCEL")),p.gc("doneText",p.ac(76,82,"GENERAL.DONE")),p.gc("displayFormat",(null==t.retrievedSettings?null:t.retrievedSettings.dateFormat)||t.dateFormatList[0]),p.gc("max",t.currentYear+5),p.gc("monthNames",t.monthNames),p.zb(8),p.qc(p.ac(83,84,"TABS.OVERVIEW.MINIMUM_CONTRACT_DURATION")),p.zb(5),p.gc("cancelText",p.ac(88,86,"GENERAL.CANCEL")),p.gc("okText",p.ac(89,88,"GENERAL.OK")),p.zb(3),p.fc("ngForOf",t.availableBillingIntervals),p.zb(6),p.qc(p.ac(97,90,"TABS.OVERVIEW.EXTENSION_AFTER_MINIMUM_CONTRACT_DURATION")),p.zb(5),p.gc("cancelText",p.ac(102,92,"GENERAL.CANCEL")),p.gc("okText",p.ac(103,94,"GENERAL.OK")),p.zb(3),p.fc("ngForOf",t.availableBillingIntervals),p.zb(6),p.qc(p.ac(111,96,"TABS.OVERVIEW.CANCELATION_PERIOD")),p.zb(5),p.gc("cancelText",p.ac(116,98,"GENERAL.CANCEL")),p.gc("okText",p.ac(117,100,"GENERAL.OK")),p.zb(3),p.fc("ngForOf",t.availableBillingIntervals),p.zb(3),p.qc(p.ac(122,102,"TABS.OVERVIEW.NOTIFICATION_BEFORE_CANCELATION_PERIOD_IN_DAYS")),p.zb(3),p.fc("ngIf",t.existingSubscription)}},directives:[o.o,o.G,o.e,o.d,o.p,o.F,s.l,o.k,c.l,c.h,c.c,o.t,o.u,o.r,o.s,o.q,o.O,c.g,c.b,o.K,o.z,o.N,s.k,o.l,o.n,o.x,o.j,o.A],pipes:[g.c,s.j,s.q],styles:[""]}),A),C=a("B+sD"),D=((B=function(){function e(){n(this,e),this.MS_PER_DAY=864e5}return r(e,[{key:"transform",value:function(e){var t=new Date,n=new Date(e.billingStart);if(0===e.billingEvery)return null;switch(e.billingInterval){case"DAYS":for(;this.dateDiffInDays(t,n)<=0;)n.setDate(n.getDate()+e.billingEvery);break;case"WEEKS":for(;this.dateDiffInDays(t,n)<=0;)n.setDate(n.getDate()+7*e.billingEvery);break;case"MONTHS":for(;this.dateDiffInDays(t,n)<=0;)n.setMonth(n.getMonth()+e.billingEvery);break;case"YEARS":for(;this.dateDiffInDays(t,n)<=0;)n.setFullYear(n.getFullYear()+e.billingEvery);break;default:return null}return{dueDate:n,inDaysFromToday:this.dateDiffInDays(t,n)}}},{key:"absDateDiffInDays",value:function(e,t){return Math.abs(this.dateDiffInDays(e,t))}},{key:"dateDiffInDays",value:function(e,t){var n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),i=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((i-n)/this.MS_PER_DAY)}}]),e}()).\u0275fac=function(e){return new(e||B)},B.\u0275pipe=p.Ib({name:"nextBilling",type:B,pure:!0}),B),P=a("4z8+"),V=a("jv0y"),k=((R=function(){function e(){n(this,e)}return r(e,[{key:"transform",value:function(e,t){var n;if(0===e.billingEvery)return 0;switch(e.billingInterval){case"DAYS":n=e.cost/e.billingEvery;break;case"WEEKS":n=e.cost/e.billingEvery/7;break;case"MONTHS":if("YEARS"===t)return e.cost/e.billingEvery*12;n=e.cost/e.billingEvery/30;break;case"YEARS":if("MONTHS"===t)return e.cost/e.billingEvery/12;n=e.cost/e.billingEvery/365;break;default:return null}switch(t){case"DAYS":return n;case"WEEKS":return 7*n;case"MONTHS":return 30*n;case"YEARS":return 365*n;default:return null}}}]),e}()).\u0275fac=function(e){return new(e||R)},R.\u0275pipe=p.Ib({name:"costByBillingInterval",type:R,pure:!0}),R);function w(e,t){if(1&e){var n=p.Pb();p.Ob(0,"ion-chip",6),p.Wb("click",function(e){p.jc(n);var t=p.Yb();return t.explainNextBilling(e,t.subscription)}),p.Kb(1,"ion-icon",7),p.Ob(2,"ion-label",8),p.pc(3),p.Zb(4,"nextBilling"),p.Zb(5,"slice"),p.Zb(6,"titlecase"),p.Zb(7,"translate"),p.Nb(),p.Nb()}if(2&e){var i=p.Yb();p.zb(3),p.sc("",p.ac(4,2,i.subscription).inDaysFromToday," ",p.cc(5,4,p.ac(6,8,p.ac(7,10,"TABS.OVERVIEW.CALENDAR_INTERVALS.DAYS")),0,1),"")}}function L(e,t){if(1&e){var n=p.Pb();p.Ob(0,"ion-chip",9),p.Wb("click",function(e){p.jc(n);var t=p.Yb();return t.explainNextCancelationPeriodDeadline(e,t.subscription)}),p.Kb(1,"ion-icon",10),p.Ob(2,"ion-label",8),p.pc(3),p.Zb(4,"nextCancelationPeriodDeadline"),p.Zb(5,"slice"),p.Zb(6,"titlecase"),p.Zb(7,"translate"),p.Nb(),p.Nb()}if(2&e){var i=p.Yb();p.zb(3),p.sc("",p.ac(4,2,i.subscription).inDaysFromToday," ",p.cc(5,4,p.ac(6,8,p.ac(7,10,"TABS.OVERVIEW.CALENDAR_INTERVALS.DAYS")),0,1),"")}}function M(e,t){if(1&e){var n=p.Pb();p.Ob(0,"ion-chip",9),p.Wb("click",function(e){p.jc(n);var t=p.Yb();return t.explainAlarmForNextCancelationPeriodDeadline(e,t.subscription)}),p.Kb(1,"ion-icon",11),p.Kb(2,"ion-label",8),p.Nb()}}var F,_,z,W,Z=((W=function(){function e(t,i,r,a,o){n(this,e),this.toastController=t,this.nextBillingPipe=i,this.nextCancelationPeriodDeadlinePipe=r,this.notificationTimeForNextCancelationPeriodDeadlinePipe=a,this.translateService=o}return r(e,[{key:"explainNextBilling",value:function(e,t){var n=this;e.stopPropagation();var i=this.nextBillingPipe.transform(t).inDaysFromToday,r=new s.d(this.translateService.currentLang).transform(this.nextBillingPipe.transform(t).dueDate);this.translateService.get("TABS.OVERVIEW.DAYS_UNTIL_NEXT_BILLING_ON_HELPER").subscribe(function(e){n.toastMessage(i+" "+e+" "+r)})}},{key:"explainNextCancelationPeriodDeadline",value:function(e,t){var n=this;e.stopPropagation();var i=this.nextCancelationPeriodDeadlinePipe.transform(t).inDaysFromToday,r=new s.d(this.translateService.currentLang).transform(this.nextCancelationPeriodDeadlinePipe.transform(t).dueDate);this.translateService.get("TABS.OVERVIEW.DAYS_UNTIL_NEXT_CANCELATION_PERIOD_DEADLINE_ON_HELPER").subscribe(function(e){n.toastMessage(i+" "+e+" "+r)})}},{key:"explainAlarmForNextCancelationPeriodDeadline",value:function(e,t){var n=this;e.stopPropagation();var i=new s.d(this.translateService.currentLang).transform(this.notificationTimeForNextCancelationPeriodDeadlinePipe.transform(t).dueDate);this.translateService.get("TABS.OVERVIEW.NOTIFICATION_BEFORE_CANCELATION_PERIOD_STARTS_ON").subscribe(function(e){n.toastMessage(e+" "+i)})}},{key:"toastMessage",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastController.create({cssClass:"toast-center-text",message:e,duration:3e3});case 2:t.sent.present();case 3:case"end":return t.stop()}},t,this)}))}}]),e}()).\u0275fac=function(e){return new(e||W)(p.Jb(o.P),p.Jb(D),p.Jb(P.a),p.Jb(V.a),p.Jb(g.d))},W.\u0275cmp=p.Db({type:W,selectors:[["app-subscription-card"]],inputs:{subscription:"subscription",selectedBillingInterval:"selectedBillingInterval",currency:"currency"},decls:30,vars:47,consts:[["button","",3,"color"],[1,"ion-no-padding"],["size","auto",1,"ion-no-padding"],["style","margin-left: 0","size","small",3,"click",4,"ngIf"],["size","small",3,"click",4,"ngIf"],["size","auto",1,"ion-no-padding",2,"margin","auto"],["size","small",2,"margin-left","0",3,"click"],["name","card","color","light"],["color","light"],["size","small",3,"click"],["name","warning","color","light"],["name","notifications","color","light",2,"margin-inline-end","-4px"]],template:function(e,t){1&e&&(p.Ob(0,"ion-card",0),p.Zb(1,"lowercase"),p.Ob(2,"ion-card-content"),p.Ob(3,"ion-grid",1),p.Ob(4,"ion-row",1),p.Ob(5,"ion-col",1),p.pc(6),p.Nb(),p.Ob(7,"ion-col",2),p.Ob(8,"b"),p.pc(9),p.Zb(10,"number"),p.Zb(11,"costByBillingInterval"),p.Zb(12,"slice"),p.Zb(13,"titlecase"),p.Zb(14,"translate"),p.Nb(),p.Nb(),p.Nb(),p.Ob(15,"ion-row",1),p.Ob(16,"ion-col",1),p.nc(17,w,8,12,"ion-chip",3),p.Zb(18,"nextBilling"),p.nc(19,L,8,12,"ion-chip",4),p.Zb(20,"nextCancelationPeriodDeadline"),p.nc(21,M,3,0,"ion-chip",4),p.Zb(22,"notificationTimeForNextCancelationPeriodDeadline"),p.Nb(),p.Ob(23,"ion-col",5),p.Ob(24,"small"),p.pc(25),p.Zb(26,"number"),p.Zb(27,"slice"),p.Zb(28,"titlecase"),p.Zb(29,"translate"),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb()),2&e&&(p.fc("color",p.ac(1,12,t.subscription.color)),p.zb(6),p.rc(" ",t.subscription.name," "),p.zb(3),p.tc("",p.cc(10,14,p.bc(11,18,t.subscription,t.selectedBillingInterval),"1.2-2",t.translateService.currentLang)," ",t.currency||"\u20ac"," / ",p.cc(12,21,p.ac(13,25,p.ac(14,27,"TABS.OVERVIEW.CALENDAR_INTERVALS."+t.selectedBillingInterval)),0,1),""),p.zb(8),p.fc("ngIf",p.ac(18,29,t.subscription)),p.zb(2),p.fc("ngIf",p.ac(20,31,t.subscription)),p.zb(2),p.fc("ngIf",p.ac(22,33,t.subscription)),p.zb(4),p.uc("",p.cc(26,35,t.subscription.cost,"1.2-2",t.translateService.currentLang)," ",t.currency||"\u20ac"," / ",t.subscription.billingEvery," ",p.cc(27,39,p.ac(28,43,p.ac(29,45,"TABS.OVERVIEW.CALENDAR_INTERVALS."+t.subscription.billingInterval)),0,1),""))},directives:[o.f,o.g,o.n,o.x,o.j,s.l,o.i,o.p,o.s],pipes:[s.j,s.e,k,s.o,s.p,g.c,D,P.a,V.a],styles:[""]}),W),H=((z=function(){function e(t,i,r){n(this,e),this.costByBillingIntervalPipe=t,this.nextBillingPipe=i,this.nextCancelationPeriodDeadlinePipe=r,this.availableBillingIntervals=u}return r(e,[{key:"transform",value:function(e,t){var n=this;if(!e)return null;if(!t)return e;switch(t){case"nameAsc":return e.sort(this.sortByNameAsc);case"nameDesc":return e.sort(this.sortByNameDesc);case"costAsc":return e.sort(function(e,t){return n.costByBillingIntervalPipe.transform(e,n.availableBillingIntervals[0])<n.costByBillingIntervalPipe.transform(t,n.availableBillingIntervals[0])?-1:n.costByBillingIntervalPipe.transform(e,n.availableBillingIntervals[0])>n.costByBillingIntervalPipe.transform(t,n.availableBillingIntervals[0])?1:0});case"costDesc":return e.sort(function(e,t){return n.costByBillingIntervalPipe.transform(e,n.availableBillingIntervals[0])>n.costByBillingIntervalPipe.transform(t,n.availableBillingIntervals[0])?-1:n.costByBillingIntervalPipe.transform(e,n.availableBillingIntervals[0])<n.costByBillingIntervalPipe.transform(t,n.availableBillingIntervals[0])?1:0});case"nextBillingAsc":return e.sort(function(e,t){return n.nextBillingPipe.transform(e).inDaysFromToday<n.nextBillingPipe.transform(t).inDaysFromToday?-1:n.nextBillingPipe.transform(e).inDaysFromToday>n.nextBillingPipe.transform(t).inDaysFromToday?1:0});case"nextBillingDesc":return e.sort(function(e,t){return n.nextBillingPipe.transform(e).inDaysFromToday>n.nextBillingPipe.transform(t).inDaysFromToday?-1:n.nextBillingPipe.transform(e).inDaysFromToday<n.nextBillingPipe.transform(t).inDaysFromToday?1:0});case"nextContractExtensionAsc":var i=e.filter(function(e){return null===n.nextCancelationPeriodDeadlinePipe.transform(e)});return i=i.sort(this.sortByNameAsc),(e=(e=e.filter(function(e){return null!==n.nextCancelationPeriodDeadlinePipe.transform(e)})).sort(function(e,t){return n.nextCancelationPeriodDeadlinePipe.transform(e)&&n.nextCancelationPeriodDeadlinePipe.transform(t)?n.nextCancelationPeriodDeadlinePipe.transform(e).inDaysFromToday<n.nextCancelationPeriodDeadlinePipe.transform(t).inDaysFromToday?-1:n.nextCancelationPeriodDeadlinePipe.transform(e).inDaysFromToday>n.nextCancelationPeriodDeadlinePipe.transform(t).inDaysFromToday?1:0:n.sortByNameAsc(e,t)})).concat(i);case"nextContractExtensionDesc":var r=e.filter(function(e){return null===n.nextCancelationPeriodDeadlinePipe.transform(e)});return r=r.sort(this.sortByNameAsc),(e=(e=e.filter(function(e){return null!==n.nextCancelationPeriodDeadlinePipe.transform(e)})).sort(function(e,t){return n.nextCancelationPeriodDeadlinePipe.transform(e)&&n.nextCancelationPeriodDeadlinePipe.transform(t)?n.nextCancelationPeriodDeadlinePipe.transform(e).inDaysFromToday>n.nextCancelationPeriodDeadlinePipe.transform(t).inDaysFromToday?-1:n.nextCancelationPeriodDeadlinePipe.transform(e).inDaysFromToday<n.nextCancelationPeriodDeadlinePipe.transform(t).inDaysFromToday?1:0:n.sortByNameAsc(e,t)})).concat(r);default:return e}}},{key:"sortByNameAsc",value:function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0}},{key:"sortByNameDesc",value:function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?1:e.name.toLowerCase()>t.name.toLowerCase()?-1:0}}]),e}()).\u0275fac=function(e){return new(e||z)(p.Jb(k),p.Jb(D),p.Jb(P.a))},z.\u0275pipe=p.Ib({name:"sortSubscriptions",type:z,pure:!0}),z),Y=((_=function(){function e(){n(this,e)}return r(e,[{key:"transform",value:function(e,t){return t?e.filter(function(e){var n;return e.name.toLowerCase().includes(t.toLowerCase())||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase()))}):e}}]),e}()).\u0275fac=function(e){return new(e||_)},_.\u0275pipe=p.Ib({name:"searchSubscriptions",type:_,pure:!0}),_),G=((F=function(){function t(e){n(this,t),this.costByBillingIntervalPipe=e}return r(t,[{key:"transform",value:function(t,n){var i=0;if(!t)return i;var r,a=e(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;i+=this.costByBillingIntervalPipe.transform(o,n)}}catch(s){a.e(s)}finally{a.f()}return i}}]),t}()).\u0275fac=function(e){return new(e||F)(p.Jb(k))},F.\u0275pipe=p.Ib({name:"totalCostByBillingInterval",type:F,pure:!1}),F),K=["searchSubscriptions"];function j(e,t){1&e&&(p.Mb(0),p.pc(1),p.Zb(2,"translate"),p.Lb()),2&e&&(p.zb(1),p.rc(" ",p.ac(2,1,"TABS.OVERVIEW.OVERVIEW")," "))}function q(e,t){if(1&e&&(p.Mb(0),p.pc(1),p.Zb(2,"number"),p.Zb(3,"totalCostByBillingInterval"),p.Zb(4,"searchSubscriptions"),p.Zb(5,"slice"),p.Zb(6,"titlecase"),p.Zb(7,"translate"),p.Lb()),2&e){var n=p.Yb();p.zb(1),p.tc(" ",p.cc(2,3,p.bc(3,7,p.bc(4,10,n.subscriptions,n.subscriptionSearchFilter),n.selectedBillingInterval),"1.2-2",n.translateService.currentLang)," ",(null==n.settings?null:n.settings.currency)||"\u20ac"," / ",p.cc(5,13,p.ac(6,17,p.ac(7,19,"TABS.OVERVIEW.CALENDAR_INTERVALS."+n.selectedBillingInterval)),0,1)," ")}}function U(e,t){if(1&e){var n=p.Pb();p.Ob(0,"ion-card"),p.Ob(1,"ion-card-content",12),p.Ob(2,"ion-searchbar",13,14),p.Wb("ngModelChange",function(e){return p.jc(n),p.Yb().subscriptionSearchFilter=e}),p.Zb(4,"translate"),p.Nb(),p.Nb(),p.Nb()}if(2&e){var i=p.Yb();p.zb(2),p.gc("placeholder",p.ac(4,2,"TABS.OVERVIEW.SEARCH_FOR_NAME_AND_DESCRIPTION")),p.fc("ngModel",i.subscriptionSearchFilter)}}function J(e,t){if(1&e){var n=p.Pb();p.Ob(0,"ion-card"),p.Ob(1,"ion-item"),p.Ob(2,"ion-label"),p.pc(3),p.Zb(4,"translate"),p.Nb(),p.Ob(5,"ion-button",15),p.Wb("click",function(){return p.jc(n),p.Yb().dismissHelperText("hideOverviewHelperTextGeneral")}),p.Kb(6,"ion-icon",16),p.Nb(),p.Nb(),p.Ob(7,"ion-card-content"),p.pc(8),p.Zb(9,"translate"),p.Nb(),p.Nb()}2&e&&(p.zb(3),p.qc(p.ac(4,2,"TABS.OVERVIEW.NO_SUBSCRIPTION_HEADER")),p.zb(5),p.rc(" ",p.ac(9,4,"TABS.OVERVIEW.NO_SUBSCRIPTION_TEXT")," "))}function X(e,t){if(1&e){var n=p.Pb();p.Ob(0,"ion-card"),p.Ob(1,"ion-item"),p.Ob(2,"ion-label"),p.pc(3),p.Zb(4,"translate"),p.Nb(),p.Ob(5,"ion-button",15),p.Wb("click",function(){return p.jc(n),p.Yb().dismissHelperText("hideOverviewHelperTextMenuBar")}),p.Kb(6,"ion-icon",16),p.Nb(),p.Nb(),p.Ob(7,"ion-card-content"),p.Ob(8,"ion-grid",12),p.Ob(9,"ion-row",17),p.Ob(10,"ion-col",18),p.Ob(11,"ion-fab-button",19),p.Kb(12,"ion-icon",20),p.Nb(),p.Nb(),p.Ob(13,"ion-col",21),p.pc(14),p.Zb(15,"translate"),p.Nb(),p.Nb(),p.Ob(16,"ion-row",17),p.Ob(17,"ion-col",18),p.Ob(18,"ion-fab-button",19),p.Kb(19,"ion-icon",22),p.Nb(),p.Nb(),p.Ob(20,"ion-col",21),p.pc(21),p.Zb(22,"translate"),p.Nb(),p.Nb(),p.Ob(23,"ion-row",17),p.Ob(24,"ion-col",18),p.Ob(25,"ion-fab-button",19),p.Kb(26,"ion-icon",23),p.Nb(),p.Nb(),p.Ob(27,"ion-col",21),p.pc(28),p.Zb(29,"translate"),p.Nb(),p.Nb(),p.Ob(30,"ion-row",17),p.Ob(31,"ion-col",18),p.Ob(32,"ion-fab-button",19),p.Kb(33,"ion-icon",24),p.Nb(),p.Nb(),p.Ob(34,"ion-col",21),p.pc(35),p.Zb(36,"translate"),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb()}2&e&&(p.zb(3),p.qc(p.ac(4,5,"TABS.OVERVIEW.MENU_BUTTONS_HELPER_HEADER")),p.zb(11),p.rc(" ",p.ac(15,7,"TABS.OVERVIEW.SEARCH_HELPER")," "),p.zb(7),p.rc(" ",p.ac(22,9,"TABS.OVERVIEW.CHANGE_CHOOSEN_BILLING_INTERVAL_HELPER")," "),p.zb(7),p.rc(" ",p.ac(29,11,"TABS.OVERVIEW.SORT_HELPER")," "),p.zb(7),p.rc(" ",p.ac(36,13,"TABS.OVERVIEW.ADD_SUBSCRIPTION_HELPER")," "))}function $(e,t){if(1&e){var n=p.Pb();p.Mb(0),p.Ob(1,"app-subscription-card",25),p.Wb("click",function(){p.jc(n);var e=t.$implicit;return p.Yb().presentUpdateSubscriptionModal(e)}),p.Nb(),p.Lb()}if(2&e){var i=t.$implicit,r=p.Yb();p.zb(1),p.fc("subscription",i)("selectedBillingInterval",r.selectedBillingInterval)("currency",null==r.settings?null:r.settings.currency)}}var Q,ee,te,ne=[{path:"",component:(Q=function(){function e(t,i,r,a,o){n(this,e),this.alertController=t,this.modalController=i,this.storageService=r,this.translateService=a,this.notificationService=o,this.subscriptions=[],this.availableBillingIntervals=u,this.subscriptionSearchFilter="",this.isSearchbarEnabled=!1}return r(e,[{key:"ionViewWillEnter",value:function(){this.retrieveSettingsFromStorage(),this.retrieveSubscriptionsFromStorage()}},{key:"addSubscription",value:function(e){var t;do{t=Math.floor(999999999999*Math.random()+1)}while(this.subscriptions.some(function(e){return e.id===t}));e.id=t,e.created=Date.now(),e.lastEdited=e.created,this.subscriptions.push(e),this.saveSubscriptionsToStorage(),this.subscriptions=this.subscriptions.slice()}},{key:"updateSubscription",value:function(e){var t=this.subscriptions.findIndex(function(t){return t.id===e.id});this.subscriptions[t]=e,this.saveSubscriptionsToStorage(),this.subscriptions=this.subscriptions.slice()}},{key:"deleteSubscription",value:function(e){this.subscriptions=this.subscriptions.filter(function(t){return t.id!==e.id}),this.saveSubscriptionsToStorage()}},{key:"saveSubscriptionsToStorage",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.saveSubscriptionsToStorage(this.subscriptions).then(function(){t.notificationService.scheduleNotifications()});case 2:case"end":return e.stop()}},e,this)}))}},{key:"retrieveSubscriptionsFromStorage",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.retrieveSubscriptionsFromStorage();case 2:this.subscriptions=e.sent;case 3:case"end":return e.stop()}},e,this)}))}},{key:"presentAddSubscriptionModal",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:x});case 2:return(t=e.sent).onDidDismiss().then(function(e){e.data&&n.addSubscription(e.data.sub)}),e.next=6,t.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))}},{key:"presentUpdateSubscriptionModal",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:x,componentProps:{existingSubscription:e}});case 2:return(n=t.sent).onDidDismiss().then(function(e){e.data&&(e.data.delete?i.deleteSubscription(e.data.sub):i.updateSubscription(e.data.sub))}),t.next=6,n.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}))}},{key:"changeChoosenBillingInterval",value:function(){var e=this;if(this.selectedBillingInterval===this.availableBillingIntervals[this.availableBillingIntervals.length-1])this.selectedBillingInterval=this.availableBillingIntervals[0];else{var t=this.availableBillingIntervals.findIndex(function(t){return t===e.selectedBillingInterval});this.selectedBillingInterval=this.availableBillingIntervals[t+1]}this.settings.defaultBillingInterval=this.selectedBillingInterval,this.saveSettingsToStorage()}},{key:"retrieveSettingsFromStorage",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageService.retrieveSettingsFromStorage();case 2:this.settings=e.sent,this.selectedBillingInterval=this.settings.defaultBillingInterval||"MONTHS",this.sortSubscriptionsBy=this.settings.defaultSortBy||"nextBillingAsc";case 5:case"end":return e.stop()}},e,this)}))}},{key:"saveSettingsToStorage",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.storageService.saveSettingsToStorage(this.settings);case 1:case"end":return e.stop()}},e,this)}))}},{key:"showSortingAlert",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},this.translateService.get("TABS.OVERVIEW.SORT_BY").subscribe(function(e){t.header=e}),this.translateService.get("TABS.OVERVIEW.NAME").subscribe(function(e){t.name=e}),this.translateService.get("TABS.OVERVIEW.COSTS_PER_PERIOD").subscribe(function(e){t.costsPerPeriod=e}),this.translateService.get("TABS.OVERVIEW.NEXT_PAYMENT").subscribe(function(e){t.nextPayment=e}),this.translateService.get("TABS.OVERVIEW.NEXT_SUBSCRIPTION_EXTENSION").subscribe(function(e){t.nextSubscriptionExtension=e}),this.translateService.get("GENERAL.ASC").subscribe(function(e){t.asc=e}),this.translateService.get("GENERAL.DESC").subscribe(function(e){t.desc=e}),e.next=4,this.alertController.create({cssClass:"alert-full-width",header:t.header,inputs:[{name:"name",type:"radio",label:t.name,value:"name",checked:this.sortSubscriptionsBy.startsWith("name")},{name:"cost",type:"radio",label:t.costsPerPeriod,value:"cost",checked:this.sortSubscriptionsBy.startsWith("cost")},{name:"nextBilling",type:"radio",label:t.nextPayment,value:"nextBilling",checked:this.sortSubscriptionsBy.startsWith("nextBilling")},{name:"nextContractExtension",type:"radio",label:t.nextSubscriptionExtension,value:"nextContractExtension",checked:this.sortSubscriptionsBy.startsWith("nextContractExtension")}],buttons:[{text:t.asc+" \u2191",cssClass:this.sortSubscriptionsBy.endsWith("Asc")?"alert-sort-selected button-solid":"",handler:function(e){i.sortSubscriptions(e+"Asc")}},{text:t.desc+" \u2193",cssClass:this.sortSubscriptionsBy.endsWith("Desc")?"alert-sort-selected":"",handler:function(e){i.sortSubscriptions(e+"Desc")}}]});case 4:return n=e.sent,e.next=7,n.present();case 7:case"end":return e.stop()}},e,this)}))}},{key:"sortSubscriptions",value:function(e){e!==this.sortSubscriptionsBy&&(this.sortSubscriptionsBy=e,this.settings.defaultSortBy=e,this.saveSettingsToStorage())}},{key:"dismissHelperText",value:function(e){if("hideOverviewHelperTextGeneral"===e)this.settings.hideOverviewHelperTextGeneral=!0;else{if("hideOverviewHelperTextMenuBar"!==e)return;this.settings.hideOverviewHelperTextMenuBar=!0}this.saveSettingsToStorage()}},{key:"toggleSearchbarVisibility",value:function(){var e=this;this.subscriptionSearchFilter="",this.isSearchbarEnabled=!this.isSearchbarEnabled,this.isSearchbarEnabled&&setTimeout(function(){e.searchSubscriptions.setFocus()},100)}},{key:"trackSubscriptionsBy",value:function(e){return e}}]),e}(),Q.\u0275fac=function(e){return new(e||Q)(p.Jb(o.a),p.Jb(o.J),p.Jb(m.a),p.Jb(g.d),p.Jb(C.a))},Q.\u0275cmp=p.Db({type:Q,selectors:[["app-tab-overview"]],viewQuery:function(e,t){var n;1&e&&p.vc(K,1),2&e&&p.hc(n=p.Xb())&&(t.searchSubscriptions=n.first)},decls:21,vars:19,consts:[[3,"translucent"],[4,"ngIf"],["slot","end"],["color","primary",3,"disabled","click"],["slot","icon-only","md","swap-horizontal"],[3,"disabled","color","click"],["slot","icon-only","md","search"],["slot","icon-only","md","filter"],["color","primary",3,"click"],["slot","icon-only","md","add"],[3,"fullscreen"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"ion-no-padding"],[1,"searchbar-integrate",3,"placeholder","ngModel","ngModelChange"],["searchSubscriptions",""],["fill","clear","slot","end",3,"click"],["name","close-outline"],[1,"ion-no-padding","ion-align-items-center"],["size","auto",1,"ion-no-padding"],["size","small"],["md","search"],[1,"ion-no-padding",2,"margin-left","1rem"],["md","swap-horizontal"],["md","filter"],["md","add"],[3,"subscription","selectedBillingInterval","currency","click"]],template:function(e,t){1&e&&(p.Ob(0,"ion-header",0),p.Ob(1,"ion-toolbar"),p.Ob(2,"ion-title"),p.nc(3,j,3,3,"ng-container",1),p.nc(4,q,8,21,"ng-container",1),p.Nb(),p.Ob(5,"ion-buttons",2),p.Ob(6,"ion-button",3),p.Wb("click",function(){return t.changeChoosenBillingInterval()}),p.Kb(7,"ion-icon",4),p.Nb(),p.Ob(8,"ion-button",5),p.Wb("click",function(){return t.toggleSearchbarVisibility()}),p.Kb(9,"ion-icon",6),p.Nb(),p.Ob(10,"ion-button",3),p.Wb("click",function(){return t.showSortingAlert()}),p.Kb(11,"ion-icon",7),p.Nb(),p.Ob(12,"ion-button",8),p.Wb("click",function(){return t.presentAddSubscriptionModal()}),p.Kb(13,"ion-icon",9),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Ob(14,"ion-content",10),p.nc(15,U,5,4,"ion-card",1),p.nc(16,J,10,6,"ion-card",1),p.nc(17,X,37,15,"ion-card",1),p.nc(18,$,2,3,"ng-container",11),p.Zb(19,"sortSubscriptions"),p.Zb(20,"searchSubscriptions"),p.Nb()),2&e&&(p.fc("translucent",!0),p.zb(3),p.fc("ngIf",0===t.subscriptions.length),p.zb(1),p.fc("ngIf",0!==t.subscriptions.length),p.zb(2),p.fc("disabled",t.subscriptions.length<2),p.zb(2),p.fc("disabled",t.subscriptions.length<2)("color",t.isSearchbarEnabled?"warning":"primary"),p.zb(2),p.fc("disabled",t.subscriptions.length<2),p.zb(4),p.fc("fullscreen",!0),p.zb(1),p.fc("ngIf",t.isSearchbarEnabled),p.zb(1),p.fc("ngIf",!(null!=t.settings&&t.settings.hideOverviewHelperTextGeneral)),p.zb(1),p.fc("ngIf",!(null!=t.settings&&t.settings.hideOverviewHelperTextMenuBar)),p.zb(1),p.fc("ngForOf",p.bc(19,13,p.bc(20,16,t.subscriptions,t.subscriptionSearchFilter),t.sortSubscriptionsBy))("ngForTrackBy",t.trackSubscriptionsBy))},directives:[o.o,o.G,o.F,s.l,o.e,o.d,o.p,o.k,s.k,o.f,o.g,o.y,o.O,c.g,c.i,o.r,o.s,o.n,o.x,o.j,o.m,Z],pipes:[H,Y,g.c,s.e,G,s.o,s.p],styles:[""]}),Q)}],ie=((te=function e(){n(this,e)}).\u0275fac=function(e){return new(e||te)},te.\u0275mod=p.Hb({type:te}),te.\u0275inj=p.Gb({imports:[[l.j.forChild(ne)],l.j]}),te),re=((ee=function e(){n(this,e)}).\u0275fac=function(e){return new(e||ee)},ee.\u0275mod=p.Hb({type:ee}),ee.\u0275inj=p.Gb({providers:[D,P.a,k,V.a],imports:[[o.H,s.b,ie,c.d,c.j,g.b]]}),ee)}}])}();